<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Distributed System the BEAM way</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/night.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section data-background-color="white">
                <img width="200"
                    src="https://learnyousomeerlang.com/static/img/cbttf.png" />
                <h3>
                    Distributed System
                </h3>
                <blockquote style="color: black; font-weight: 800;">
                    "The BEAM way"
                </blockquote>
            </section>

        <section data-background-color="#ffffff">
            <h3>What is a Distributed System?</h3>
            <blockquote style="color: black; font-weight: 800;">
                ‚ÄúA distributed system is just many computers pretending to be one big computer.‚Äù
            </blockquote>
        </section>

        <section>
            <h3>Everyday Examples</h3>
            <ul>
                <li>Bank ATMs</li>
                <ul>
                    <li>All ATMs share the same account info.</li>
                </ul>
                <li>WhatsApp</li>
                <ul>
                    <li>Send message on your phone, it appears on your friend's phone on the other side of the world</li>
                </ul>
                <li>Google Docs</li>
                <ul>
                    <li>Two people type at the same time, the system merges changes</li>
                </ul>
            </ul>
        </section>

        <section data-background-color="#ffffff">
            <img width="180" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/WhatsApp_Logo_green.svg/1024px-WhatsApp_Logo_green.svg.png" />
            <h3>Why Should We Care?</h3>
            <blockquote style="color: black; font-weight: 800;">
                ‚ÄúWhen WhatsApp sends a message to millions of people, or when your payment app never goes down‚Äù
            </blockquote>
        </section>

        <section data-background-color="#ffffff">
            <img width="150" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Erlang_logo.svg/140px-Erlang_logo.svg.png" />
            <h3>The Erlang Legacy</h3>

            <ul>
                <li>
                    1980s Ericsson.
                </li>
                <li>
                    Concurrency, Fault tolerance, Distribution.
                </li>
            </ul>
        </section>

        <section>
            <h3>Why Elixir/BEAM is cool?</h3>
            <ul>
                <li>Concepts that sound magical but real</li>
                <ul>
                    <li>Processes are cheap (millions of them).</li>
                    <li>Message passing, not shared memory.</li>
                    <li>Supervisors and "let it crash" philosophy.</li>
                    <li>Out-of-the-box distribution: Node.connect(:node@machine)</li>
                </ul>
            </ul>
        </section>

        <section>

            <img width="300" src="https://media1.tenor.com/m/5ety3Lx3QccAAAAC/its-fine-dog-fine.gif" />
            <h4>One Machine vs. Distributed World</h4>
            <blockquote style="color: white; font-weight: 800;">
                ‚ÄúOne machine: Simple, but limited.‚Äù
            </blockquote>
        </section>

        <section>
            <img width="300" src="image/same_spider_man_node7.png" />
            <h4>One Machine vs. Distributed World</h4>
            <blockquote style="color: white; font-weight: 800;">
                ‚ÄúDistributed: Resilient, but hard.‚Äù
            </blockquote>
        </section>


        <section>
            <img width="500" src="image/se_catch_distributedsystem.jpg" />
            <h4>Challenge</h4>
            <blockquote style="color: white; font-weight: 800;">
                ‚ÄúDistributed systems are HARD‚Äù
            </blockquote>
        </section>

        <section>
            <h4>Why Distributed systems are hard?</h4>
            <ul>
              <li>Unreliable network</li>
              <li>Partial failures</li>
              <li>Hard data consistency</li>
              <li>Concurrency conflicts</li>
              <li>Slow coordination</li>
              <li>Hard to debug</li>
            </ul>
        </section>

        <section data-background-color="#ffffff">
            <h3>Old Example</h3>
            <img width="900" src="image/newjeans_process_stage.png" />
        </section>

        <section data-background-color="#ffffff">
            <h3>Newjeans on <strong>STAGE</strong></h3>
            <img width="900" src="image/distributed_newjeans.png" />
        </section>

        <section>
            <h3>‚ö° Basic Distributed System in Elixir</h3>
            <ul>
              <li>Start nodes: <code>iex --sname node1 -S mix</code></li>
              <li>Connect nodes: <code>Node.connect(:'node2@host')</code></li>
              <li>Check nodes: <code>Node.list()</code></li>
              <li>Run remote call: <code>Node.spawn(:'node2@host', fn -> IO.puts("Hi") end)</code></li>
              <li>Share state: use <code>:global</code> / <code>:pg</code> / libraries (e.g., DeltaCrdt)</li>
            </ul>
        </section>


        <section data-background-color="#ffffff">
          <h3>Distributed Counter 3 Node</h3>
          <img width="900" src="image/counter_3_node.png" />
        </section>

        <section>
          <h3>Increament Counter</h3>
  <div class="mermaid" style="width: auto; height: 500px; overflow-y: auto; margin: 0 auto;"
            <pre>
              %%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
sequenceDiagram
    participant Node1
    participant Node2
    participant Node3

    %% Initial state
    Node1->>Node1: Counter = 0
    Node2->>Node2: Counter = 0
    Node3->>Node3: Counter = 0

    %% Node1 increments
    Node1->>Node1: Counter = Counter + 1
    Node1->>Node2: Sync delta
    Node1->>Node3: Sync delta

    %% Node2 increments
    Node2->>Node2: Counter = Counter + 1
    Node2->>Node1: Sync delta
    Node2->>Node3: Sync delta

    %% Node3 increments
    Node3->>Node3: Counter = Counter + 1
    Node3->>Node1: Sync delta
    Node3->>Node2: Sync delta

    %% Final state after all syncs
    Node1->>Node1: Counter = 3
    Node2->>Node2: Counter = 3
    Node3->>Node3: Counter = 3
            </pre>
          </div>
        </section>

        <section>
            <h2>Demo</h2>
            <img width="200" src="https://media1.tenor.com/m/R1TTUaq_hMcAAAAC/haerin-newjeans.gif" />
        </section>

        <section>
            <h3 style="font-size: 2.2em; color: #00e676; text-shadow: 1px 2px 8px #222;">
            How about code it not hard?
            </h3>
            <blockquote style="color: #fff; background: #222; border-left: 5px solid #00e676; font-size: 1.3em; margin-top: 30px;">
            "Distributed code can be simple, if you have the right tools."
            </blockquote>
        </section>

        <section>
            <img width="200" src="https://media1.tenor.com/m/OT9Am8Bg9-cAAAAd/haerin-newjeans.gif" />
            <h2>Summary</h2>
            <blockquote>
                ‚ÄúErlang/Elixir makes distributed systems... simple.‚Äù ü¶∏‚Äç‚ôÇÔ∏èüí•
            </blockquote>
        </section>

        <section>
            <img width="250" src="https://media1.tenor.com/m/Y9KOdmb6uBAAAAAd/haerin-newjeans.gif" />
            <h4>
                "Don't drink too much Kool-Aid"
            </h4>
            <h3>|> QA |> exit(0)</h3>
        </section>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-mermaid-plugin@11.4.1/plugin/mermaid/mermaid.js"></script>
    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            mermaid: {
            },

            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMermaid]
        });
    </script>
</body>

</html>
